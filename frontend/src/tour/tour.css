/**
 * Additional CSS styles for React Joyride tour tooltips
 *
 * These styles handle hover states and responsive design that can't be
 * defined in the inline styles object (tour/styles.ts)
 *
 * Follows Tremor design system for consistency
 */

/* ============================================
   Responsive Design
   ============================================ */

/* Mobile (Small phones: 375px and below) */
@media (max-width: 375px) {
  .__floater__body {
    max-width: 95vw !important;
  }

  /* Optimize content for very small screens */
  .react-joyride__tooltip {
    font-size: 0.8125rem; /* 13px - slightly smaller but still readable */
    line-height: 1.3rem; /* Tighter line height for space efficiency */
  }

  /* Increase touch targets for buttons - iOS minimum is 44x44px */
  .react-joyride__tooltip button {
    min-height: 44px !important;
    padding: 0.75rem 1rem !important;
    font-size: 0.875rem !important; /* Keep button text readable */
  }

  /* Reduce footer spacing on very small screens */
  .react-joyride__tooltip footer {
    gap: 0.5rem !important;
  }

  /* Progress indicator: smaller font on mobile */
  .react-joyride__tooltip footer > div:first-child {
    font-size: 0.6875rem !important; /* 11px */
  }
}

/* Mobile (Standard phones: 376px - 640px) */
@media (min-width: 376px) and (max-width: 640px) {
  .__floater__body {
    max-width: 90vw !important;
  }

  /* Standard mobile font sizing */
  .react-joyride__tooltip {
    font-size: 0.8125rem; /* 13px */
  }

  /* Ensure adequate touch targets - iOS minimum is 44x44px */
  .react-joyride__tooltip button {
    min-height: 44px !important;
    padding: 0.625rem 1rem !important;
  }
}

/* Tablet (641px - 1024px) */
@media (min-width: 641px) and (max-width: 1024px) {
  .__floater__body {
    max-width: 420px !important;
  }

  /* Tablet: standard sizing with good touch targets */
  .react-joyride__tooltip button {
    min-height: 40px !important;
  }
}

/* Desktop (1024px and above) */
@media (min-width: 1025px) {
  .__floater__body {
    max-width: 420px !important;
  }
}

/* ============================================
   Button Hover States
   ============================================ */

/* Primary button (Next) hover state - Tremor blue-600 */
.react-joyride__tooltip button[data-action="primary"]:hover,
button[aria-label*="Next"]:hover,
button[aria-label*="Last"]:hover {
  background-color: #2563EB !important; /* blue-600 */
  transform: translateY(-1px);
}

/* Primary button active state */
.react-joyride__tooltip button[data-action="primary"]:active,
button[aria-label*="Next"]:active,
button[aria-label*="Last"]:active {
  transform: translateY(0);
}

/* Secondary buttons (Back, Skip) hover state - Tremor content-emphasis */
.react-joyride__tooltip button[data-action="back"]:hover,
.react-joyride__tooltip button[data-action="skip"]:hover,
button[aria-label*="Back"]:hover,
button[aria-label*="Skip"]:hover {
  color: #374151 !important; /* gray-700 */
  background-color: rgba(0, 0, 0, 0.05) !important;
  border-radius: 0.375rem;
}

/* ============================================
   Enhanced Visual Hierarchy
   ============================================ */

/* Spotlight - Add subtle glow for better focus (very gentle to avoid distraction) */
.__floater__open .react-joyride__spotlight {
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.08),
              0 0 15px 3px rgba(59, 130, 246, 0.12);
  transition: box-shadow 0.3s ease-in-out;
}

/* Overlay - Smooth fade in (optimized for performance) */
.react-joyride__overlay {
  animation: joyride-overlay-fade-in 0.25s ease-out;
  will-change: opacity; /* Performance hint for browsers */
}

@keyframes joyride-overlay-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Tooltip - Smooth slide and fade in (optimized for performance) */
.react-joyride__tooltip {
  animation: joyride-tooltip-fade-in 0.25s ease-out;
  will-change: opacity, transform; /* Performance hint for browsers */
}

@keyframes joyride-tooltip-fade-in {
  from {
    opacity: 0;
    transform: translateY(-8px); /* Reduced from -10px for subtlety */
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================
   Progress Indicator Styling
   ============================================ */

/* Style the progress text to match Tremor */
.react-joyride__tooltip footer > div:first-child {
  color: #6B7280; /* gray-500 - Tremor content-DEFAULT */
  font-size: 0.75rem; /* tremor-label */
  font-weight: 500;
  line-height: 1rem;
}

/* ============================================
   Accessibility Enhancements
   ============================================ */

/* Focus states for keyboard navigation */
.react-joyride__tooltip button:focus {
  outline: 2px solid #3B82F6; /* blue-500 */
  outline-offset: 2px;
}

/* Skip button focus - more subtle */
button[data-action="skip"]:focus {
  outline: 2px solid #D1D5DB; /* gray-300 */
  outline-offset: 2px;
}

